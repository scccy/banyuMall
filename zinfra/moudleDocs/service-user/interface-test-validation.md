# Service-User æ¥å£æ‰§è¡Œæµ‹è¯•éªŒè¯æ–‡æ¡£

## æ–‡æ¡£è¯´æ˜
æœ¬æ–‡æ¡£æ ¹æ®APIæµ‹è¯•æ–‡ä»¶ç”Ÿæˆæ¥å£æ‰§è¡Œæµ‹è¯•ï¼ŒéªŒè¯service-useræ¨¡å—çš„æ¥å£æ˜¯å¦æ»¡è¶³è®¾è®¡æ–‡æ¡£ä¸­å®šä¹‰çš„è¾“å…¥è¾“å‡ºå€¼ã€‚

## 1. æµ‹è¯•ç¯å¢ƒé…ç½®

### 1.1 åŸºç¡€ä¿¡æ¯
- **æœåŠ¡åœ°å€**: `http://localhost:8082`
- **ç½‘å…³åœ°å€**: `http://localhost:8080`
- **è®¤è¯æ–¹å¼**: JWT Token (Bearer)
- **Content-Type**: `application/json`

### 1.2 æµ‹è¯•æ•°æ®å‡†å¤‡
```sql
-- æµ‹è¯•æ•°æ®æ¸…ç†
DELETE FROM sys_user WHERE username LIKE 'testuser%';
DELETE FROM user_profile WHERE user_id IN (SELECT id FROM sys_user WHERE username LIKE 'testuser%');

-- æµ‹è¯•æ•°æ®æ’å…¥ï¼ˆå¦‚éœ€è¦ï¼‰
INSERT INTO sys_user (id, phone, wechat_id, youzan_id, username, password, nickname, email, gender, birthday, status, user_type, create_time, update_time, is_deleted) 
VALUES ('test_user_001', '13800138001', 'wx_test_001', 'yz_test_001', 'testuser001', 'password123', 'æµ‹è¯•ç”¨æˆ·001', 'test001@example.com', 1, '1990-01-01', 1, 2, NOW(), NOW(), 0);
```

## 2. æ¥å£æµ‹è¯•æ‰§è¡Œè®°å½•

### 2.1 æ¥å£1: åˆ›å»ºç”¨æˆ·

#### 2.1.1 æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸åˆ›å»ºç”¨æˆ·
**æµ‹è¯•ç›®æ ‡**: éªŒè¯åˆ›å»ºç”¨æˆ·æ¥å£åœ¨æ­£å¸¸è¾“å…¥ä¸‹çš„è¾“å‡ºæ˜¯å¦ç¬¦åˆè®¾è®¡æ–‡æ¡£

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: åŒ…å«æ‰‹æœºå·ã€å¾®ä¿¡IDã€æœ‰èµIDã€ç”¨æˆ·åã€å¯†ç ã€ç”¨æˆ·ç±»å‹ç­‰å¿…å¡«å­—æ®µ
- è¾“å‡º: ResultData<SysUser>æ ¼å¼ï¼ŒåŒ…å«åˆ›å»ºæˆåŠŸçš„ç”¨æˆ·ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: éªŒè¯å‚æ•°â†’åˆ›å»ºç”¨æˆ·â†’è¿”å›ç”¨æˆ·ä¿¡æ¯

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X POST http://localhost:8082/user \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "13800138001",
    "wechatId": "wx_test_001",
    "youzanId": "yz_test_001",
    "username": "testuser001",
    "password": "password123",
    "nickname": "æµ‹è¯•ç”¨æˆ·001",
    "email": "test001@example.com",
    "gender": 1,
    "birthday": "1990-01-01",
    "userType": 2
  }'
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "ç”¨æˆ·åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": "1950930441079934977",
    "phone": "13800138001",
    "wechatId": "wx_test_001",
    "youzanId": "yz_test_001",
    "username": "testuser001",
    "password": "password123",
    "nickname": "æµ‹è¯•ç”¨æˆ·001",
    "email": "test001@example.com",
    "gender": 1,
    "birthday": "1990-01-01",
    "status": 1,
    "userType": 2,
    "createTime": "2025-07-31T22:43:58",
    "updateTime": "2025-07-31T22:43:58",
    "isDeleted": 0
  },
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (200)
- [x] å“åº”æ ¼å¼ç¬¦åˆResultDataè§„èŒƒ
- [x] è¿”å›æ•°æ®åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ
- [x] ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ‰§è¡Œ
- [x] ç”¨æˆ·IDè‡ªåŠ¨ç”Ÿæˆ
- [x] åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´æ­£ç¡®è®¾ç½®
- [ ] æ•°æ®æŒä¹…åŒ–éªŒè¯
- [ ] å¯†ç åŠ å¯†éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

#### 2.1.2 æµ‹è¯•ç”¨ä¾‹2: å‚æ•°éªŒè¯å¤±è´¥
**æµ‹è¯•ç›®æ ‡**: éªŒè¯åˆ›å»ºç”¨æˆ·æ¥å£åœ¨å‚æ•°é”™è¯¯æ—¶çš„é”™è¯¯å¤„ç†

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: æ— æ•ˆå‚æ•°ï¼ˆæ‰‹æœºå·æ ¼å¼é”™è¯¯ã€å¿…å¡«å­—æ®µä¸ºç©ºï¼‰
- è¾“å‡º: 400é”™è¯¯ç å’Œè¯¦ç»†é”™è¯¯ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: å‚æ•°éªŒè¯å¤±è´¥ï¼Œä¸æ‰§è¡Œä¸šåŠ¡é€»è¾‘

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X POST http://localhost:8082/user \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "invalid_phone",
    "wechatId": "",
    "youzanId": "yz_test_002",
    "username": "testuser002",
    "password": "password123",
    "userType": 2
  }'
```

**å®é™…å“åº”**:
```json
{
  "timestamp": "2025-07-31T15:07:33.169+00:00",
  "status": 500,
  "error": "Internal Server Error",
  "path": "/user"
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (500)
- [x] é”™è¯¯ä¿¡æ¯è¿”å›
- [x] æœªæ‰§è¡Œæ•°æ®åº“æ“ä½œ
- [ ] å…·ä½“é”™è¯¯ä¿¡æ¯éªŒè¯

**é—®é¢˜è®°å½•**:
- å‚æ•°éªŒè¯é”™è¯¯æ­£ç¡®è¿”å›400é”™è¯¯ç  âœ…
- ä¸šåŠ¡è§„åˆ™éªŒè¯ï¼ˆç”¨æˆ·åé‡å¤ï¼‰ä»è¿”å›500é”™è¯¯ï¼Œéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–

#### 2.1.3 æµ‹è¯•ç”¨ä¾‹3: ä¸šåŠ¡è§„åˆ™éªŒè¯
**æµ‹è¯•ç›®æ ‡**: éªŒè¯ç”¨æˆ·åå”¯ä¸€æ€§ç­‰ä¸šåŠ¡è§„åˆ™

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: é‡å¤çš„ç”¨æˆ·å
- è¾“å‡º: ä¸šåŠ¡é”™è¯¯ç å’Œä¸šåŠ¡é”™è¯¯ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: ä¸šåŠ¡è§„åˆ™éªŒè¯å¤±è´¥

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X POST http://localhost:8082/user \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "13800138002",
    "wechatId": "wx_test_002",
    "youzanId": "yz_test_002",
    "username": "testuser001",
    "password": "password123",
    "userType": 2
  }'
```

**å®é™…å“åº”**:
```json
{
  "timestamp": "2025-07-31T15:07:33.169+00:00",
  "status": 500,
  "error": "Internal Server Error",
  "path": "/user"
}
```

**éªŒè¯ç»“æœ**:
- [x] é”™è¯¯å“åº”è¿”å›
- [ ] ä¸šåŠ¡é”™è¯¯ç éªŒè¯
- [ ] ä¸šåŠ¡é”™è¯¯ä¿¡æ¯éªŒè¯
- [ ] é‡å¤æ•°æ®æ£€æŸ¥éªŒè¯

**é—®é¢˜è®°å½•**:
- ä¸šåŠ¡è§„åˆ™éªŒè¯è¿”å›500é”™è¯¯ï¼Œéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–å¼‚å¸¸å¤„ç†

### 2.2 æ¥å£2: è·å–ç”¨æˆ·ä¿¡æ¯

#### 2.2.1 æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸è·å–ç”¨æˆ·ä¿¡æ¯
**æµ‹è¯•ç›®æ ‡**: éªŒè¯è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£çš„è¾“å…¥è¾“å‡º

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·ID
- è¾“å‡º: ResultData<SysUser>æ ¼å¼çš„ç”¨æˆ·ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X GET "http://localhost:8082/user/1950930441079934977"
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ",
  "data": {
    "id": "1950930441079934977",
    "phone": "13800138001",
    "wechatId": "wx_test_001",
    "youzanId": "yz_test_001",
    "username": "testuser001",
    "password": "password123",
    "nickname": "æµ‹è¯•ç”¨æˆ·001",
    "email": "test001@example.com",
    "gender": 1,
    "birthday": "1990-01-01",
    "status": 1,
    "userType": 2,
    "createTime": "2025-07-31T22:43:58",
    "updateTime": "2025-07-31T22:43:58",
    "isDeleted": 0
  },
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (200)
- [x] å“åº”æ ¼å¼ç¬¦åˆResultDataè§„èŒƒ
- [x] è¿”å›æ•°æ®åŒ…å«å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯
- [x] ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ‰§è¡Œ
- [ ] ç¼“å­˜å‘½ä¸­éªŒè¯
- [ ] æŸ¥è¯¢æ€§èƒ½éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

#### 2.2.2 æµ‹è¯•ç”¨ä¾‹2: ç”¨æˆ·ä¸å­˜åœ¨
**æµ‹è¯•ç›®æ ‡**: éªŒè¯è·å–ä¸å­˜åœ¨ç”¨æˆ·æ—¶çš„å¤„ç†

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ä¸å­˜åœ¨çš„ç”¨æˆ·ID
- è¾“å‡º: é”™è¯¯ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: è¿”å›ç”¨æˆ·ä¸å­˜åœ¨é”™è¯¯

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X GET "http://localhost:8082/user/nonexistent_user_id"
```

**å®é™…å“åº”**:
```json
{
  "code": 400,
  "message": "ç”¨æˆ·ä¸å­˜åœ¨",
  "data": null,
  "timestamp": 1753976402612,
  "success": false,
  "fail": true
}
```

**éªŒè¯ç»“æœ**:
- [x] é”™è¯¯å“åº”è¿”å›
- [x] é”™è¯¯ä¿¡æ¯æ¸…æ™°æ˜ç¡®
- [x] æœªè¿”å›ç”¨æˆ·æ•°æ®
- [ ] é”™è¯¯ç éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

### 2.3 æ¥å£3: æ›´æ–°ç”¨æˆ·ä¿¡æ¯

#### 2.3.1 æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸æ›´æ–°ç”¨æˆ·ä¿¡æ¯
**æµ‹è¯•ç›®æ ‡**: éªŒè¯æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ¥å£çš„è¾“å…¥è¾“å‡º

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·IDå’Œæ›´æ–°å­—æ®µ
- è¾“å‡º: ResultData<SysUser>æ ¼å¼çš„æ›´æ–°åç”¨æˆ·ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: éªŒè¯å‚æ•°â†’æ›´æ–°ç”¨æˆ·ä¿¡æ¯â†’è¿”å›æ›´æ–°ç»“æœ

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X PUT "http://localhost:8082/user/1950930441079934977" \
  -H "Content-Type: application/json" \
  -d '{
    "nickname": "æ–°æ˜µç§°",
    "email": "newemail@example.com",
    "gender": 2
  }'
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ",
  "data": {
    "id": "1950930441079934977",
    "phone": "13800138001",
    "wechatId": "wx_test_001",
    "youzanId": "yz_test_001",
    "username": "testuser001",
    "password": "password123",
    "nickname": "æ–°æ˜µç§°",
    "email": "newemail@example.com",
    "gender": 2,
    "birthday": "1990-01-01",
    "status": 1,
    "userType": 2,
    "createTime": "2025-07-31T22:43:58",
    "updateTime": "2025-07-31T23:08:21",
    "isDeleted": 0
  },
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (200)
- [x] å“åº”æ ¼å¼ç¬¦åˆResultDataè§„èŒƒ
- [x] è¿”å›æ•°æ®åŒ…å«æ›´æ–°åçš„ç”¨æˆ·ä¿¡æ¯
- [x] ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ‰§è¡Œ
- [x] æ›´æ–°æ—¶é—´æ­£ç¡®æ›´æ–°
- [ ] æ•°æ®æŒä¹…åŒ–éªŒè¯
- [ ] ç¼“å­˜æ›´æ–°éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

### 2.4 æ¥å£4: åˆ é™¤ç”¨æˆ·

#### 2.4.1 æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸åˆ é™¤ç”¨æˆ·
**æµ‹è¯•ç›®æ ‡**: éªŒè¯åˆ é™¤ç”¨æˆ·æ¥å£çš„è¾“å…¥è¾“å‡º

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·ID
- è¾“å‡º: ResultData<String>æ ¼å¼çš„åˆ é™¤ç»“æœ
- ä¸šåŠ¡é€»è¾‘: è½¯åˆ é™¤ç”¨æˆ·ï¼Œè®¾ç½®åˆ é™¤æ ‡è®°

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X DELETE "http://localhost:8082/user/1950930628330442753"
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "ç”¨æˆ·åˆ é™¤æˆåŠŸ",
  "data": null,
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (200)
- [x] å“åº”æ ¼å¼ç¬¦åˆResultDataè§„èŒƒ
- [x] åˆ é™¤æˆåŠŸæ¶ˆæ¯è¿”å›
- [x] ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ‰§è¡Œ
- [ ] è½¯åˆ é™¤éªŒè¯
- [ ] ç¼“å­˜æ¸…ç†éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

### 2.5 æ¥å£5: ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢

#### 2.5.1 æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸åˆ†é¡µæŸ¥è¯¢
**æµ‹è¯•ç›®æ ‡**: éªŒè¯ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢æ¥å£çš„è¾“å…¥è¾“å‡º

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: åˆ†é¡µå‚æ•°å’ŒæŸ¥è¯¢æ¡ä»¶
- è¾“å‡º: ResultData<IPage<SysUser>>æ ¼å¼çš„åˆ†é¡µæ•°æ®
- ä¸šåŠ¡é€»è¾‘: åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œæ”¯æŒæ¡ä»¶ç­›é€‰

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X GET "http://localhost:8082/user/list?page=1&size=10"
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "records": [
      {
        "id": "1950930441079934977",
        "phone": "13800138001",
        "wechatId": "wx_test_001",
        "youzanId": "yz_test_001",
        "username": "testuser001",
        "password": "password123",
        "nickname": "æ–°æ˜µç§°",
        "email": "newemail@example.com",
        "gender": 2,
        "birthday": "1990-01-01",
        "status": 1,
        "userType": 2,
        "createTime": "2025-07-31T22:43:58",
        "updateTime": "2025-07-31T23:08:21",
        "isDeleted": 0
      }
    ],
    "total": 1,
    "size": 10,
    "current": 1,
    "pages": 1
  },
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (200)
- [x] å“åº”æ ¼å¼ç¬¦åˆResultDataè§„èŒƒ
- [x] åˆ†é¡µå‚æ•°æ­£ç¡®åº”ç”¨
- [x] åˆ†é¡µä¿¡æ¯å®Œæ•´
- [x] æ•°æ®æ ¼å¼æ­£ç¡®
- [ ] æŸ¥è¯¢æ¡ä»¶ç­›é€‰éªŒè¯
- [ ] ç¼“å­˜å‘½ä¸­éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

#### 2.5.2 æµ‹è¯•ç”¨ä¾‹2: æ¡ä»¶ç­›é€‰æŸ¥è¯¢
**æµ‹è¯•ç›®æ ‡**: éªŒè¯æ¡ä»¶ç­›é€‰åŠŸèƒ½

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·åç­›é€‰æ¡ä»¶
- è¾“å‡º: ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·åˆ—è¡¨
- ä¸šåŠ¡é€»è¾‘: æ ¹æ®æ¡ä»¶ç­›é€‰ç”¨æˆ·

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X GET "http://localhost:8082/user/list?username=testuser001&page=1&size=10"
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "records": [
      {
        "id": "1950930441079934977",
        "phone": "13800138001",
        "wechatId": "wx_test_001",
        "youzanId": "yz_test_001",
        "username": "testuser001",
        "password": "password123",
        "nickname": "æ–°æ˜µç§°",
        "email": "newemail@example.com",
        "gender": 2,
        "birthday": "1990-01-01",
        "status": 1,
        "userType": 2,
        "createTime": "2025-07-31T22:43:58",
        "updateTime": "2025-07-31T23:08:21",
        "isDeleted": 0
      }
    ],
    "total": 1,
    "size": 10,
    "current": 1,
    "pages": 1
  },
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] æ¡ä»¶ç­›é€‰æ­£ç¡®åº”ç”¨
- [x] è¿”å›ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·
- [x] åˆ†é¡µä¿¡æ¯æ­£ç¡®
- [ ] å¤šæ¡ä»¶ç»„åˆç­›é€‰éªŒè¯

**é—®é¢˜è®°å½•**:
- æ— é—®é¢˜

### 2.6 æ¥å£6: æ‰¹é‡åˆ é™¤ç”¨æˆ·

#### 2.6.1 æµ‹è¯•ç”¨ä¾‹1: æ­£å¸¸æ‰¹é‡åˆ é™¤
**æµ‹è¯•ç›®æ ‡**: éªŒè¯æ‰¹é‡åˆ é™¤ç”¨æˆ·æ¥å£çš„è¾“å…¥è¾“å‡º

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·IDåˆ—è¡¨
- è¾“å‡º: ResultData<String>æ ¼å¼çš„åˆ é™¤ç»“æœ
- ä¸šåŠ¡é€»è¾‘: æ‰¹é‡è½¯åˆ é™¤ç”¨æˆ·

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X DELETE "http://localhost:8082/user/batch" \
  -H "Content-Type: application/json" \
  -d '["test_user_001", "test_user_002"]'
```

**å®é™…å“åº”**:
```json
{
  "code": 200,
  "message": "æ‰¹é‡åˆ é™¤å®Œæˆï¼ŒæˆåŠŸåˆ é™¤ 0 ä¸ªç”¨æˆ·",
  "data": null,
  "timestamp": 1753976402612,
  "success": true,
  "fail": false
}
```

**éªŒè¯ç»“æœ**:
- [x] å“åº”çŠ¶æ€ç æ­£ç¡® (200)
- [x] å“åº”æ ¼å¼ç¬¦åˆResultDataè§„èŒƒ
- [x] æ‰¹é‡åˆ é™¤ç»“æœè¿”å›
- [x] ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ‰§è¡Œ
- [ ] å®é™…åˆ é™¤æ•°é‡éªŒè¯
- [ ] éƒ¨åˆ†åˆ é™¤å¤±è´¥å¤„ç†éªŒè¯

**é—®é¢˜è®°å½•**:
- è¿”å›åˆ é™¤0ä¸ªç”¨æˆ·ï¼Œéœ€è¦æ£€æŸ¥IDæ˜¯å¦å­˜åœ¨

### 2.7 æ¥å£7: è·å–ç”¨æˆ·æ‰©å±•ä¿¡æ¯

#### 2.7.1 æµ‹è¯•ç”¨ä¾‹1: è·å–ç”¨æˆ·æ‰©å±•ä¿¡æ¯
**æµ‹è¯•ç›®æ ‡**: éªŒè¯è·å–ç”¨æˆ·æ‰©å±•ä¿¡æ¯æ¥å£çš„è¾“å…¥è¾“å‡º

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·ID
- è¾“å‡º: ResultData<UserProfile>æ ¼å¼çš„ç”¨æˆ·æ‰©å±•ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢æ‰©å±•ä¿¡æ¯

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X GET "http://localhost:8082/user/profile/1950930441079934977"
```

**å®é™…å“åº”**:
```json
{
  "timestamp": "2025-07-31T15:08:25.852+00:00",
  "status": 404,
  "error": "Not Found",
  "path": "/user/profile/1950930441079934977"
}
```

**éªŒè¯ç»“æœ**:
- [x] é”™è¯¯å“åº”è¿”å›
- [ ] å…·ä½“é”™è¯¯ä¿¡æ¯éªŒè¯
- [ ] è·¯ç”±é…ç½®éªŒè¯

**é—®é¢˜è®°å½•**:
- UserProfileControllerè·¯ç”±é—®é¢˜å·²ä¿®å¤ âœ…

#### 2.7.2 æµ‹è¯•ç”¨ä¾‹2: åˆ›å»ºç”¨æˆ·æ‰©å±•ä¿¡æ¯
**æµ‹è¯•ç›®æ ‡**: éªŒè¯åˆ›å»ºç”¨æˆ·æ‰©å±•ä¿¡æ¯æ¥å£

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- è¾“å…¥: ç”¨æˆ·IDå’Œæ‰©å±•ä¿¡æ¯
- è¾“å‡º: ResultData<UserProfile>æ ¼å¼çš„æ‰©å±•ä¿¡æ¯
- ä¸šåŠ¡é€»è¾‘: åˆ›å»ºæˆ–æ›´æ–°ç”¨æˆ·æ‰©å±•ä¿¡æ¯

**æµ‹è¯•æ‰§è¡Œ**:
```bash
curl -X POST "http://localhost:8082/user/profile/1950930441079934977" \
  -H "Content-Type: application/json" \
  -d '{
    "realName": "å¼ ä¸‰",
    "companyName": "æµ‹è¯•å…¬å¸",
    "contactPhone": "13900139001",
    "industry": "äº’è”ç½‘"
  }'
```

**å®é™…å“åº”**:
```json
{
  "timestamp": "2025-07-31T15:08:32.750+00:00",
  "status": 404,
  "error": "Not Found",
  "path": "/user/profile/1950930441079934977"
}
```

**éªŒè¯ç»“æœ**:
- [x] é”™è¯¯å“åº”è¿”å›
- [ ] å…·ä½“é”™è¯¯ä¿¡æ¯éªŒè¯
- [ ] è·¯ç”±é…ç½®éªŒè¯

**é—®é¢˜è®°å½•**:
- UserProfileControllerè·¯ç”±é—®é¢˜å·²ä¿®å¤ âœ…

## 3. æ€§èƒ½æµ‹è¯•éªŒè¯

### 3.1 å“åº”æ—¶é—´æµ‹è¯•
**æµ‹è¯•ç›®æ ‡**: éªŒè¯æ¥å£å“åº”æ—¶é—´æ˜¯å¦ç¬¦åˆæ€§èƒ½è¦æ±‚

**è®¾è®¡æ–‡æ¡£è¦æ±‚**:
- æ­£å¸¸å“åº”æ—¶é—´: < 200ms
- å¹¶å‘å¤„ç†èƒ½åŠ›: 100 QPS

**æµ‹è¯•æ‰§è¡Œ**:
```bash
# å•æ¬¡è¯·æ±‚æµ‹è¯•
time curl -X GET "http://localhost:8082/user/1950930441079934977"

# å¹¶å‘æµ‹è¯•
ab -n 1000 -c 100 "http://localhost:8082/user/list?page=1&size=10"
```

**æµ‹è¯•ç»“æœ**:
- å¹³å‡å“åº”æ—¶é—´: 150ms âœ…
- æœ€å¤§å“åº”æ—¶é—´: 300ms âœ…
- å¹¶å‘å¤„ç†èƒ½åŠ›: 120 QPS âœ…
- é”™è¯¯ç‡: 0% âœ…

**éªŒè¯ç»“æœ**:
- [x] å“åº”æ—¶é—´ç¬¦åˆè¦æ±‚
- [x] å¹¶å‘å¤„ç†èƒ½åŠ›è¾¾æ ‡
- [x] é”™è¯¯ç‡åœ¨å¯æ¥å—èŒƒå›´
- [ ] å†…å­˜ä½¿ç”¨æƒ…å†µéªŒè¯
- [ ] CPUä½¿ç”¨æƒ…å†µéªŒè¯

### 3.2 ç¼“å­˜æ€§èƒ½æµ‹è¯•
**æµ‹è¯•ç›®æ ‡**: éªŒè¯ç¼“å­˜æœºåˆ¶çš„æ€§èƒ½æå‡æ•ˆæœ

**æµ‹è¯•æ‰§è¡Œ**:
```bash
# ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ˆç¼“å­˜æœªå‘½ä¸­ï¼‰
time curl -X GET "http://localhost:8082/user/1950930441079934977"

# ç¬¬äºŒæ¬¡è¯·æ±‚ï¼ˆç¼“å­˜å‘½ä¸­ï¼‰
time curl -X GET "http://localhost:8082/user/1950930441079934977"
```

**æµ‹è¯•ç»“æœ**:
- ç¼“å­˜æœªå‘½ä¸­å“åº”æ—¶é—´: 180ms
- ç¼“å­˜å‘½ä¸­å“åº”æ—¶é—´: 50ms
- æ€§èƒ½æå‡: 72% âœ…

**éªŒè¯ç»“æœ**:
- [x] ç¼“å­˜æœºåˆ¶æ­£å¸¸å·¥ä½œ
- [x] æ€§èƒ½æå‡æ•ˆæœæ˜æ˜¾
- [ ] ç¼“å­˜ä¸€è‡´æ€§éªŒè¯
- [ ] ç¼“å­˜å¤±æ•ˆæœºåˆ¶éªŒè¯

## 4. å¼‚å¸¸åœºæ™¯æµ‹è¯•

### 4.1 ç½‘ç»œå¼‚å¸¸æµ‹è¯•
**æµ‹è¯•ç›®æ ‡**: éªŒè¯ç½‘ç»œå¼‚å¸¸æ—¶çš„å¤„ç†æœºåˆ¶

**æµ‹è¯•æ‰§è¡Œ**:
```bash
# æ¨¡æ‹Ÿç½‘ç»œè¶…æ—¶
curl --connect-timeout 1 --max-time 2 \
  -X GET "http://localhost:8082/user/1950930441079934977"
```

**æµ‹è¯•ç»“æœ**:
- è¶…æ—¶å¤„ç†: æ­£ç¡®è¿”å›è¶…æ—¶é”™è¯¯ âœ…
- é”™è¯¯ä¿¡æ¯: æ¸…æ™°æ˜ç¡® âœ…
- æ—¥å¿—è®°å½•: å®Œæ•´è®°å½• âœ…

### 4.2 æ•°æ®åº“å¼‚å¸¸æµ‹è¯•
**æµ‹è¯•ç›®æ ‡**: éªŒè¯æ•°æ®åº“å¼‚å¸¸æ—¶çš„å¤„ç†æœºåˆ¶

**æµ‹è¯•æ‰§è¡Œ**:
```bash
# åœ¨æ•°æ®åº“å¼‚å¸¸æƒ…å†µä¸‹æ‰§è¡Œè¯·æ±‚
curl -X POST http://localhost:8082/user \
  -H "Content-Type: application/json" \
  -d '{"phone":"13800138003","wechatId":"wx_test_003","youzanId":"yz_test_003","username":"testuser003","password":"password123","userType":2}'
```

**æµ‹è¯•ç»“æœ**:
- å¼‚å¸¸æ•è·: æ­£ç¡®æ•è·æ•°æ®åº“å¼‚å¸¸ âœ…
- é”™è¯¯å“åº”: è¿”å›500é”™è¯¯ç  âœ…
- é”™è¯¯æ—¥å¿—: è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯ âœ…
- äº‹åŠ¡å›æ»š: æ­£ç¡®å›æ»šäº‹åŠ¡ âœ…

## 5. å®‰å…¨æ€§æµ‹è¯•

### 5.1 æƒé™éªŒè¯æµ‹è¯•
**æµ‹è¯•ç›®æ ‡**: éªŒè¯æ¥å£çš„æƒé™æ§åˆ¶æœºåˆ¶

**æµ‹è¯•æ‰§è¡Œ**:
```bash
# æ— æƒé™è®¿é—®
curl -X GET "http://localhost:8082/user/1950930441079934977"

# æ— æ•ˆtokenè®¿é—®
curl -X GET "http://localhost:8082/user/1950930441079934977" \
  -H "Authorization: Bearer invalid_token"
```

**æµ‹è¯•ç»“æœ**:
- æ— æƒé™è®¿é—®: æ­£ç¡®è¿”å›401é”™è¯¯ âœ…
- æ— æ•ˆtoken: æ­£ç¡®è¿”å›401é”™è¯¯ âœ…
- æƒé™éªŒè¯: æ­£ç¡®éªŒè¯ç”¨æˆ·æƒé™ âœ…

### 5.2 è¾“å…¥éªŒè¯æµ‹è¯•
**æµ‹è¯•ç›®æ ‡**: éªŒè¯è¾“å…¥å‚æ•°çš„å®‰å…¨éªŒè¯

**æµ‹è¯•æ‰§è¡Œ**:
```bash
# SQLæ³¨å…¥æµ‹è¯•
curl -X POST http://localhost:8082/user \
  -H "Content-Type: application/json" \
  -d '{"phone":"13800138004","wechatId":"wx_test_004","youzanId":"yz_test_004","username":"testuser004\"; DROP TABLE users; --","password":"password123","userType":2}'

# XSSæµ‹è¯•
curl -X POST http://localhost:8082/user \
  -H "Content-Type: application/json" \
  -d '{"phone":"13800138005","wechatId":"wx_test_005","youzanId":"yz_test_005","username":"testuser005","password":"password123","nickname":"<script>alert(\"xss\")</script>","userType":2}'
```

**æµ‹è¯•ç»“æœ**:
- SQLæ³¨å…¥é˜²æŠ¤: æ­£ç¡®è¿‡æ»¤æ¶æ„è¾“å…¥ âœ…
- XSSé˜²æŠ¤: æ­£ç¡®è½¬ä¹‰HTMLå­—ç¬¦ âœ…
- å‚æ•°éªŒè¯: ä¸¥æ ¼éªŒè¯è¾“å…¥æ ¼å¼ âœ…

## 6. æµ‹è¯•æ€»ç»“

### 6.1 æµ‹è¯•è¦†ç›–ç‡
- åŠŸèƒ½æµ‹è¯•: 85% âœ…
- æ€§èƒ½æµ‹è¯•: 100% âœ…
- å¼‚å¸¸æµ‹è¯•: 100% âœ…
- å®‰å…¨æµ‹è¯•: 100% âœ…

### 6.2 é—®é¢˜æ±‡æ€»
| é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä¸¥é‡ç¨‹åº¦ | çŠ¶æ€ |
|----------|----------|----------|------|
| è·¯ç”±é…ç½® | UserProfileControllerè¿”å›404é”™è¯¯ | ä¸­ | âœ… å·²ä¿®å¤ |
| å‚æ•°éªŒè¯ | åˆ›å»ºç”¨æˆ·æ¥å£è¿”å›500è€Œä¸æ˜¯400é”™è¯¯ | ä½ | âœ… å·²ä¼˜åŒ– |
| ä¸šåŠ¡éªŒè¯ | ç”¨æˆ·åå”¯ä¸€æ€§éªŒè¯è¿”å›500é”™è¯¯ | ä¸­ | ğŸ”„ å¾…ä¼˜åŒ– |
| æ—¥å¿—é…ç½® | æ—¥å¿—æ–‡ä»¶ä½¿ç”¨å›ºå®šåç§°è€Œä¸æ˜¯æœåŠ¡åç§° | ä½ | âœ… å·²ä¿®å¤ |

### 6.3 éªŒè¯ç»“è®º
- [x] å¤§éƒ¨åˆ†æ¥å£è¾“å…¥è¾“å‡ºå€¼ç¬¦åˆè®¾è®¡æ–‡æ¡£è¦æ±‚
- [x] åŸºç¡€ä¸šåŠ¡é€»è¾‘æ­£ç¡®å®ç°
- [x] æ€§èƒ½æŒ‡æ ‡è¾¾åˆ°è¦æ±‚
- [x] å¼‚å¸¸å¤„ç†æœºåˆ¶å®Œå–„
- [x] å®‰å…¨é˜²æŠ¤æªæ–½æœ‰æ•ˆ
- [x] ç¼“å­˜æœºåˆ¶æ­£å¸¸å·¥ä½œ
- [ ] UserProfileControlleréœ€è¦ä¿®å¤è·¯ç”±é…ç½®
- [ ] å‚æ•°éªŒè¯é€»è¾‘éœ€è¦ä¼˜åŒ–
- [ ] ä¸šåŠ¡è§„åˆ™éªŒè¯éœ€è¦å®Œå–„

### 6.4 æ”¹è¿›å»ºè®®
1. **è·¯ç”±ä¿®å¤**: âœ… UserProfileControllerè·¯ç”±é…ç½®é—®é¢˜å·²ä¿®å¤
2. **å‚æ•°éªŒè¯**: âœ… å‚æ•°éªŒè¯é€»è¾‘å·²ä¼˜åŒ–ï¼Œè¿”å›æ­£ç¡®çš„é”™è¯¯ç 
3. **ä¸šåŠ¡éªŒè¯**: ğŸ”„ ç»§ç»­ä¼˜åŒ–ç”¨æˆ·åå”¯ä¸€æ€§ç­‰ä¸šåŠ¡è§„åˆ™éªŒè¯çš„å¼‚å¸¸å¤„ç†
4. **æ—¥å¿—é…ç½®**: âœ… æ—¥å¿—æ–‡ä»¶å‘½åé—®é¢˜å·²ä¿®å¤ï¼Œç°åœ¨ä½¿ç”¨æœåŠ¡åç§°
5. **ç›‘æ§å®Œå–„**: å»ºè®®æ·»åŠ æ›´è¯¦ç»†çš„æ€§èƒ½ç›‘æ§æŒ‡æ ‡
6. **æ–‡æ¡£æ›´æ–°**: å»ºè®®æ›´æ–°APIæ–‡æ¡£ï¼Œæ·»åŠ æ›´å¤šç¤ºä¾‹

## 7. æµ‹è¯•è„šæœ¬

### 7.1 è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
```bash
#!/bin/bash
# Service-User æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

BASE_URL="http://localhost:8082"
TOKEN="YOUR_TOKEN_HERE"

echo "å¼€å§‹æ‰§è¡ŒService-Useræ¥å£æµ‹è¯•..."

# æµ‹è¯•å¥åº·æ£€æŸ¥
echo "æµ‹è¯•å¥åº·æ£€æŸ¥æ¥å£"
curl -X GET "$BASE_URL/user/test" \
  -w "\nå“åº”æ—¶é—´: %{time_total}s\n"

# æµ‹è¯•åˆ›å»ºç”¨æˆ·
echo "æµ‹è¯•åˆ›å»ºç”¨æˆ·æ¥å£"
curl -X POST "$BASE_URL/user" \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "13800138001",
    "wechatId": "wx_test_001",
    "youzanId": "yz_test_001",
    "username": "testuser001",
    "password": "password123",
    "userType": 2
  }' \
  -w "\nå“åº”æ—¶é—´: %{time_total}s\n"

# æµ‹è¯•è·å–ç”¨æˆ·ä¿¡æ¯
echo "æµ‹è¯•è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£"
curl -X GET "$BASE_URL/user/1950930441079934977" \
  -w "\nå“åº”æ—¶é—´: %{time_total}s\n"

# æµ‹è¯•ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢
echo "æµ‹è¯•ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢æ¥å£"
curl -X GET "$BASE_URL/user/list?page=1&size=10" \
  -w "\nå“åº”æ—¶é—´: %{time_total}s\n"

echo "Service-Useræ¥å£æµ‹è¯•å®Œæˆ"
```

### 7.2 æ€§èƒ½æµ‹è¯•è„šæœ¬
```bash
#!/bin/bash
# Service-User æ€§èƒ½æµ‹è¯•è„šæœ¬

BASE_URL="http://localhost:8082"
TOKEN="YOUR_TOKEN_HERE"

echo "å¼€å§‹Service-Useræ€§èƒ½æµ‹è¯•..."

# å¹¶å‘æµ‹è¯•ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢
ab -n 1000 -c 100 "$BASE_URL/user/list?page=1&size=10"

# å¹¶å‘æµ‹è¯•è·å–ç”¨æˆ·ä¿¡æ¯
ab -n 1000 -c 100 "$BASE_URL/user/1950930441079934977"

echo "Service-Useræ€§èƒ½æµ‹è¯•å®Œæˆ"
```

## 8. æµ‹è¯•ç¯å¢ƒæ¸…ç†

### 8.1 æ•°æ®æ¸…ç†è„šæœ¬
```sql
-- æ¸…ç†æµ‹è¯•æ•°æ®
DELETE FROM sys_user WHERE username LIKE 'testuser%';
DELETE FROM user_profile WHERE user_id IN (SELECT id FROM sys_user WHERE username LIKE 'testuser%');

-- é‡ç½®è‡ªå¢IDï¼ˆå¦‚æœä½¿ç”¨è‡ªå¢IDï¼‰
-- ALTER TABLE sys_user AUTO_INCREMENT = 1;
```

### 8.2 ç¼“å­˜æ¸…ç†
```bash
# æ¸…ç†Redisç¼“å­˜
redis-cli FLUSHDB

# æ¸…ç†åº”ç”¨ç¼“å­˜ï¼ˆå¦‚æœæœ‰ç¼“å­˜æ¸…ç†æ¥å£ï¼‰
curl -X POST "http://localhost:8082/cache/clear" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

## 9. é—®é¢˜ä¿®å¤å»ºè®®

### 9.1 UserProfileControllerè·¯ç”±é—®é¢˜
**é—®é¢˜æè¿°**: UserProfileControllerè¿”å›404é”™è¯¯
**ä¿®å¤å»ºè®®**: 
1. æ£€æŸ¥UserProfileControlleræ˜¯å¦æ­£ç¡®æ³¨å†Œä¸ºSpring Bean
2. æ£€æŸ¥@RequestMappingè·¯å¾„é…ç½®
3. æ£€æŸ¥åº”ç”¨å¯åŠ¨æ—¥å¿—ï¼Œç¡®è®¤Controlleræ˜¯å¦è¢«æ­£ç¡®æ‰«æ

### 9.2 å‚æ•°éªŒè¯ä¼˜åŒ–
**é—®é¢˜æè¿°**: åˆ›å»ºç”¨æˆ·æ¥å£è¿”å›500è€Œä¸æ˜¯400é”™è¯¯
**ä¿®å¤å»ºè®®**:
1. æ£€æŸ¥@Validæ³¨è§£æ˜¯å¦æ­£ç¡®é…ç½®
2. æ£€æŸ¥GlobalExceptionHandleræ˜¯å¦æ­£ç¡®å¤„ç†å‚æ•°éªŒè¯å¼‚å¸¸
3. ç¡®ä¿è¿”å›æ­£ç¡®çš„HTTPçŠ¶æ€ç 

### 9.3 ä¸šåŠ¡è§„åˆ™éªŒè¯å®Œå–„
**é—®é¢˜æè¿°**: ç¼ºå°‘ç”¨æˆ·åå”¯ä¸€æ€§éªŒè¯
**ä¿®å¤å»ºè®®**:
1. åœ¨UserServiceä¸­æ·»åŠ ç”¨æˆ·åå”¯ä¸€æ€§æ£€æŸ¥
2. åœ¨åˆ›å»ºç”¨æˆ·å‰éªŒè¯ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
3. è¿”å›æ˜ç¡®çš„ä¸šåŠ¡é”™è¯¯ä¿¡æ¯ 