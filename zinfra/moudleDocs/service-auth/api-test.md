# service-auth APIæµ‹è¯•æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

> **æ–‡æ¡£ä½ç½®**: zinfra/moudleDocs/service-auth/api-test.md  
> **æµ‹è¯•ä»£ç ä½ç½®**: src/test/java/com/origin/auth/controller/  
> **æµ‹è¯•æ–¹æ³•å‘½å**: æ¥å£åç§° + Test (å¦‚: loginTest, logoutTest)

## ğŸ”§ RESTæ¥å£åŠŸèƒ½åˆ—è¡¨

| åºå· | æ¥å£åç§° | è¯·æ±‚æ–¹æ³• | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | èŒè´£å¯¹åº” | æµ‹è¯•æ–¹æ³• | æŸ¥çœ‹è¯¦æƒ… |
|------|----------|----------|----------|----------|----------|----------|----------|
| 1 | ç”¨æˆ·ç™»å½• | POST | `/service/auth/login` | å¤„ç†ç”¨æˆ·ç™»å½•è¯·æ±‚ï¼Œè¿”å›JWTä»¤ç‰Œ | ç”¨æˆ·è®¤è¯ | loginTest | [æŸ¥çœ‹è¯¦æƒ…](#1-ç”¨æˆ·ç™»å½•) |
| 2 | ç”¨æˆ·ç™»å‡º | POST | `/service/auth/logout` | å¤„ç†ç”¨æˆ·ç™»å‡ºè¯·æ±‚ï¼Œæ¸…é™¤ä¼šè¯ | ä¼šè¯ç®¡ç† | logoutTest | [æŸ¥çœ‹è¯¦æƒ…](#2-ç”¨æˆ·ç™»å‡º) |
| 3 | å¼ºåˆ¶ç™»å‡ºç”¨æˆ· | POST | `/service/auth/logout/force/{userId}` | ç®¡ç†å‘˜å¼ºåˆ¶ç™»å‡ºæŒ‡å®šç”¨æˆ· | ä¼šè¯ç®¡ç† | forceLogoutTest | [æŸ¥çœ‹è¯¦æƒ…](#3-å¼ºåˆ¶ç™»å‡ºç”¨æˆ·) |
| 4 | å¯†ç åŠ å¯† | POST | `/service/auth/password/encrypt` | ä¸ºå…¶ä»–æœåŠ¡æä¾›å¯†ç åŠ å¯†åŠŸèƒ½ | å¯†ç ç®¡ç† | encryptPasswordTest | [æŸ¥çœ‹è¯¦æƒ…](#4-å¯†ç åŠ å¯†) |
| 5 | å¯†ç éªŒè¯ | POST | `/service/auth/password/verify` | ä¸ºå…¶ä»–æœåŠ¡æä¾›å¯†ç éªŒè¯åŠŸèƒ½ | å¯†ç ç®¡ç† | verifyPasswordTest | [æŸ¥çœ‹è¯¦æƒ…](#5-å¯†ç éªŒè¯) |
| 6 | è·å–ç”¨æˆ·ä¿¡æ¯ | GET | `/service/auth/user/info` | ä¸ºå…¶ä»–æœåŠ¡æä¾›ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢ | ç”¨æˆ·ä¿¡æ¯ | getUserInfoTest | [æŸ¥çœ‹è¯¦æƒ…](#6-è·å–ç”¨æˆ·ä¿¡æ¯) |
| 7 | éªŒè¯JWTä»¤ç‰Œ | POST | `/service/auth/validate` | ä¸ºå…¶ä»–æœåŠ¡æä¾›JWTä»¤ç‰ŒéªŒè¯ | ä»¤ç‰Œç®¡ç† | validateTokenTest | [æŸ¥çœ‹è¯¦æƒ…](#7-éªŒè¯jwtä»¤ç‰Œ) |
| 8 | å¥åº·æ£€æŸ¥ | GET | `/service/auth/test` | æœåŠ¡å¥åº·æ£€æŸ¥æ¥å£ | ç³»ç»Ÿç›‘æ§ | testTest | [æŸ¥çœ‹è¯¦æƒ…](#8-å¥åº·æ£€æŸ¥) |

## ğŸ”— Feignå®¢æˆ·ç«¯æ¥å£åˆ—è¡¨

| åºå· | æœåŠ¡åç§° | Feignå®¢æˆ·ç«¯ | æ¥å£è·¯å¾„ | ä¸»è¦ç”¨é€” | æµ‹è¯•æ–¹æ³• | æŸ¥çœ‹è¯¦æƒ… |
|------|----------|-------------|----------|----------|----------|----------|
| æ—  | æ—  | æ—  | æ—  | è®¤è¯æœåŠ¡ä¸ºå…¶ä»–æœåŠ¡æä¾›è®¤è¯åŠŸèƒ½ï¼Œä¸ä¾èµ–å¤–éƒ¨æœåŠ¡ | æ—  | æ—  |

---

## ğŸ”§ RESTæ¥å£è¯¦æƒ…

### 1. ç”¨æˆ·ç™»å½•

#### æ¥å£æè¿°
å¤„ç†ç”¨æˆ·ç™»å½•è¯·æ±‚ï¼ŒéªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œç”ŸæˆJWTä»¤ç‰Œå¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚è·¯å¾„**: `/service/auth/login`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  X-Request-ID: test-request-123
  X-Client-IP: 127.0.0.1
  X-User-Agent: Mozilla/5.0
  ```

#### è¯·æ±‚å‚æ•°
```json
{
  "username": "admin",
  "password": "123456",
  "captcha": "1234",
  "captchaKey": "captcha_key",
  "rememberMe": true
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "userId": "1234567890",
    "username": "admin",
    "nickname": "ç®¡ç†å‘˜",
    "avatar": "https://example.com/avatar.jpg",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "tokenType": "Bearer",
    "expiresIn": 3600,
    "userType": 1,
    "userTypeDesc": "ç³»ç»Ÿç®¡ç†å‘˜"
  },
  "timestamp": 1703123456789
}
```

#### é”™è¯¯å“åº”ç¤ºä¾‹
```json
{
  "code": 401,
  "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
  "data": null,
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `loginTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - æƒé™éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 2. ç”¨æˆ·ç™»å‡º

#### æ¥å£æè¿°
å¤„ç†ç”¨æˆ·ç™»å‡ºè¯·æ±‚ï¼Œæ¸…é™¤ç”¨æˆ·ä¼šè¯ä¿¡æ¯å’ŒJWTä»¤ç‰Œã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚è·¯å¾„**: `/service/auth/logout`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
  X-Request-ID: test-request-123
  X-Client-IP: 127.0.0.1
  X-User-Agent: Mozilla/5.0
  ```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "ç™»å‡ºæˆåŠŸ",
  "data": null,
  "timestamp": 1703123456789
}
```

#### é”™è¯¯å“åº”ç¤ºä¾‹
```json
{
  "code": 401,
  "message": "ç™»å‡ºå¤±è´¥ï¼šç¼ºå°‘æœ‰æ•ˆçš„token",
  "data": null,
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `logoutTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - æƒé™éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 3. å¼ºåˆ¶ç™»å‡ºç”¨æˆ·

#### æ¥å£æè¿°
ç®¡ç†å‘˜å¼ºåˆ¶ç™»å‡ºæŒ‡å®šç”¨æˆ·ï¼Œæ¸…é™¤è¯¥ç”¨æˆ·çš„æ‰€æœ‰ä¼šè¯ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚è·¯å¾„**: `/service/auth/logout/force/{userId}`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  X-Request-ID: test-request-123
  X-Client-IP: 127.0.0.1
  X-User-Agent: Mozilla/5.0
  ```

#### è·¯å¾„å‚æ•°
- `userId`: ç”¨æˆ·ID (å¿…å¡«)

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "å¼ºåˆ¶ç™»å‡ºæˆåŠŸ",
  "data": null,
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `forceLogoutTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - æƒé™éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 4. å¯†ç åŠ å¯†

#### æ¥å£æè¿°
ä¸ºå…¶ä»–å¾®æœåŠ¡æä¾›å¯†ç åŠ å¯†åŠŸèƒ½ï¼Œä½¿ç”¨BCryptç®—æ³•åŠ å¯†å¯†ç ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚è·¯å¾„**: `/service/auth/password/encrypt`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  ```

#### è¯·æ±‚å‚æ•°
```json
{
  "username": "admin",
  "password": "123456"
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "å¯†ç åŠ å¯†æˆåŠŸ",
  "data": {
    "username": "admin",
    "encryptedPassword": "$2a$12$..."
  },
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `encryptPasswordTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 5. å¯†ç éªŒè¯

#### æ¥å£æè¿°
ä¸ºå…¶ä»–å¾®æœåŠ¡æä¾›å¯†ç éªŒè¯åŠŸèƒ½ï¼ŒéªŒè¯ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚è·¯å¾„**: `/service/auth/password/verify`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  ```

#### è¯·æ±‚å‚æ•°
```json
{
  "username": "admin",
  "password": "123456"
}
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "å¯†ç éªŒè¯å®Œæˆ",
  "data": true,
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `verifyPasswordTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 6. è·å–ç”¨æˆ·ä¿¡æ¯

#### æ¥å£æè¿°
ä¸ºå…¶ä»–å¾®æœåŠ¡æä¾›ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢åŠŸèƒ½ï¼Œæ ¹æ®ç”¨æˆ·IDè·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: GET
- **è¯·æ±‚è·¯å¾„**: `/service/auth/user/info`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  ```

#### æŸ¥è¯¢å‚æ•°
- `userId`: ç”¨æˆ·ID (ç±»å‹: String, å¿…å¡«: æ˜¯)

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ",
  "data": {
    "userId": "1234567890",
    "username": "admin",
    "nickname": "ç®¡ç†å‘˜",
    "avatar": "https://example.com/avatar.jpg",
    "email": "admin@example.com",
    "phone": "13800138000",
    "wechatId": "wx123456",
    "youzanId": "yz123456",
    "gender": 1,
    "birthday": "1990-01-01",
    "userType": 1,
    "status": 1,
    "profileId": "profile123",
    "lastLoginTime": "2025-07-31T10:00:00",
    "createTime": "2025-07-31T10:00:00",
    "updateTime": "2025-07-31T10:00:00"
  },
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `getUserInfoTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 7. éªŒè¯JWTä»¤ç‰Œ

#### æ¥å£æè¿°
ä¸ºå…¶ä»–å¾®æœåŠ¡æä¾›JWTä»¤ç‰ŒéªŒè¯åŠŸèƒ½ï¼ŒéªŒè¯ä»¤ç‰Œçš„æœ‰æ•ˆæ€§ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚è·¯å¾„**: `/service/auth/validate`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  ```

#### æŸ¥è¯¢å‚æ•°
- `token`: JWTä»¤ç‰Œ (ç±»å‹: String, å¿…å¡«: æ˜¯)

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "ä»¤ç‰ŒéªŒè¯å®Œæˆ",
  "data": true,
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `validateTokenTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - å‚æ•°éªŒè¯æµ‹è¯•
  - å¼‚å¸¸æƒ…å†µæµ‹è¯•

---

### 8. å¥åº·æ£€æŸ¥

#### æ¥å£æè¿°
ç”¨äºéªŒè¯è®¤è¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œçš„æ¥å£ã€‚

#### è¯·æ±‚ä¿¡æ¯
- **è¯·æ±‚æ–¹æ³•**: GET
- **è¯·æ±‚è·¯å¾„**: `/service/auth/test`
- **è¯·æ±‚å¤´**: 
  ```
  Content-Type: application/json
  X-Request-ID: test-request-123
  X-Client-IP: 127.0.0.1
  X-User-Agent: Mozilla/5.0
  ```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "è®¤è¯æœåŠ¡è¿è¡Œæ­£å¸¸",
  "data": null,
  "timestamp": 1703123456789
}
```

#### æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerTest`
- **æµ‹è¯•æ–¹æ³•**: `testTest`
- **æµ‹è¯•åœºæ™¯**: 
  - æ­£å¸¸è¯·æ±‚æµ‹è¯•
  - æœåŠ¡çŠ¶æ€æµ‹è¯•

---

## ğŸ§ª æµ‹è¯•ä»£ç ç»“æ„

### RESTæ¥å£æµ‹è¯•
```java
@SpringBootTest
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
class AuthControllerTest {
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @Test
    @DisplayName("ç”¨æˆ·ç™»å½• - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void loginTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("ç”¨æˆ·ç™»å½• - å‚æ•°éªŒè¯æµ‹è¯•")
    void loginValidationTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("ç”¨æˆ·ç™»å½• - æƒé™éªŒè¯æµ‹è¯•")
    void loginPermissionTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("ç”¨æˆ·ç™»å½• - å¼‚å¸¸æƒ…å†µæµ‹è¯•")
    void loginExceptionTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("ç”¨æˆ·ç™»å‡º - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void logoutTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("å¼ºåˆ¶ç™»å‡ºç”¨æˆ· - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void forceLogoutTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("å¯†ç åŠ å¯† - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void encryptPasswordTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("å¯†ç éªŒè¯ - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void verifyPasswordTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("è·å–ç”¨æˆ·ä¿¡æ¯ - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void getUserInfoTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("éªŒè¯JWTä»¤ç‰Œ - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void validateTokenTest() {
        // æµ‹è¯•å®ç°
    }
    
    @Test
    @DisplayName("å¥åº·æ£€æŸ¥ - æ­£å¸¸è¯·æ±‚æµ‹è¯•")
    void testTest() {
        // æµ‹è¯•å®ç°
    }
}
```

## ğŸ“Š æµ‹è¯•æ•°æ®å‡†å¤‡

### æµ‹è¯•ç”¨æˆ·æ•°æ®
```sql
-- æµ‹è¯•ç”¨æˆ·æ•°æ®
INSERT INTO sys_user (user_id, username, password, nickname, email, phone, user_type, status) VALUES
('test_user_001', 'admin', '$2a$12$...', 'ç®¡ç†å‘˜', 'admin@example.com', '13800138000', 1, 1),
('test_user_002', 'user1', '$2a$12$...', 'æ™®é€šç”¨æˆ·1', 'user1@example.com', '13800138001', 2, 1),
('test_user_003', 'user2', '$2a$12$...', 'æ™®é€šç”¨æˆ·2', 'user2@example.com', '13800138002', 2, 1),
('test_user_004', 'disabled_user', '$2a$12$...', 'ç¦ç”¨ç”¨æˆ·', 'disabled@example.com', '13800138003', 2, 2);
```

## ğŸ”§ æµ‹è¯•é…ç½®

### æµ‹è¯•ç¯å¢ƒé…ç½®
```yaml
# application-test.yml
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true

# JWTæµ‹è¯•é…ç½®
jwt:
  secret: test-secret-key
  expiration: 3600
  header: Authorization

# æµ‹è¯•ä¸“ç”¨é…ç½®
test:
  mock:
    enabled: true
  timeout:
    feign: 5000
```

### Mocké…ç½®
```java
@TestConfiguration
public class TestConfig implements WebMvcConfigurer {
    
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        // åœ¨æµ‹è¯•ç¯å¢ƒä¸­æ’é™¤æ‰€æœ‰éœ€è¦è®¤è¯çš„è·¯å¾„
        // è¿™æ ·å¯ä»¥ä¸“æ³¨äºæµ‹è¯•ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸éœ€è¦å¤„ç†è®¤è¯
    }
}

@TestConfiguration
@EnableWebSecurity
@Profile("test")
public class TestSecurityConfig {
    
    @Bean
    public SecurityFilterChain testSecurityFilterChain(HttpSecurity http) throws Exception {
        http
            .csrf(AbstractHttpConfigurer::disable)
            .sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
            .authorizeHttpRequests(authz -> authz.anyRequest().permitAll());
        return http.build();
    }
}
```

## ğŸ“ˆ æ€§èƒ½æµ‹è¯•

### æ¥å£æ€§èƒ½åŸºå‡†
| æ¥å£åç§° | å¹³å‡å“åº”æ—¶é—´ | 95%å“åº”æ—¶é—´ | 99%å“åº”æ—¶é—´ | å¹¶å‘ç”¨æˆ·æ•° |
|----------|-------------|-------------|-------------|------------|
| ç”¨æˆ·ç™»å½• | < 200ms | < 500ms | < 1000ms | 100 |
| ç”¨æˆ·ç™»å‡º | < 100ms | < 200ms | < 500ms | 100 |
| å¯†ç åŠ å¯† | < 50ms | < 100ms | < 200ms | 50 |
| å¯†ç éªŒè¯ | < 100ms | < 200ms | < 500ms | 50 |
| è·å–ç”¨æˆ·ä¿¡æ¯ | < 50ms | < 100ms | < 200ms | 100 |
| éªŒè¯JWTä»¤ç‰Œ | < 20ms | < 50ms | < 100ms | 200 |

### æ€§èƒ½æµ‹è¯•æ–¹æ³•
- **æµ‹è¯•ç±»**: `AuthControllerPerformanceTest`
- **æµ‹è¯•æ–¹æ³•**: `loginPerformanceTest`
- **æµ‹è¯•å·¥å…·**: JMeter / Gatling
- **æµ‹è¯•åœºæ™¯**: å¹¶å‘è¯·æ±‚ã€å‹åŠ›æµ‹è¯•ã€ç¨³å®šæ€§æµ‹è¯•

## ğŸš¨ é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | é”™è¯¯ç±»å‹ | é”™è¯¯æè¿° | å¤„ç†å»ºè®® |
|--------|----------|----------|----------|
| 400 | å‚æ•°é”™è¯¯ | è¯·æ±‚å‚æ•°æ ¼å¼é”™è¯¯æˆ–ç¼ºå°‘å¿…å¡«å‚æ•° | æ£€æŸ¥è¯·æ±‚å‚æ•°æ ¼å¼å’Œå®Œæ•´æ€§ |
| 401 | è®¤è¯å¤±è´¥ | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œæˆ–ä»¤ç‰Œæ— æ•ˆ | æ£€æŸ¥ç”¨æˆ·åå¯†ç æˆ–é‡æ–°ç™»å½• |
| 403 | æƒé™ä¸è¶³ | ç”¨æˆ·æ²¡æœ‰è®¿é—®è¯¥èµ„æºçš„æƒé™ | è”ç³»ç®¡ç†å‘˜åˆ†é…ç›¸åº”æƒé™ |
| 404 | èµ„æºä¸å­˜åœ¨ | è¯·æ±‚çš„ç”¨æˆ·ä¸å­˜åœ¨ | æ£€æŸ¥ç”¨æˆ·IDæ˜¯å¦æ­£ç¡® |
| 500 | æœåŠ¡å™¨é”™è¯¯ | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—ï¼Œè”ç³»æŠ€æœ¯æ”¯æŒ |
| 503 | æœåŠ¡ä¸å¯ç”¨ | è®¤è¯æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ | ç¨åé‡è¯•æˆ–è”ç³»è¿ç»´äººå‘˜ |

### è®¤è¯æœåŠ¡ä¸“ç”¨é”™è¯¯ç 
| é”™è¯¯ç  | é”™è¯¯ç±»å‹ | é”™è¯¯æè¿° | å¤„ç†å»ºè®® |
|--------|----------|----------|----------|
| 1101 | è®¤è¯å¤±è´¥ | è®¤è¯è¿‡ç¨‹å¤±è´¥ | æ£€æŸ¥è®¤è¯å‡­æ®æˆ–è”ç³»ç®¡ç†å‘˜ |
| 1102 | è®¤è¯ä»¤ç‰Œç¼ºå¤± | æœªæä¾›è®¤è¯ä»¤ç‰Œ | åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ Authorizationä»¤ç‰Œ |
| 1103 | è®¤è¯ä»¤ç‰Œå·²è¿‡æœŸ | è®¤è¯ä»¤ç‰Œå·²è¿‡æœŸ | é‡æ–°ç™»å½•è·å–æ–°çš„ä»¤ç‰Œ |
| 1104 | è®¤è¯ä»¤ç‰Œæ— æ•ˆ | è®¤è¯ä»¤ç‰Œæ ¼å¼æˆ–ç­¾åæ— æ•ˆ | æ£€æŸ¥ä»¤ç‰Œæ ¼å¼æˆ–é‡æ–°ç™»å½• |
| 1105 | ç”¨æˆ·è´¦å·å·²è¢«ç¦ç”¨ | ç”¨æˆ·è´¦å·è¢«ç¦ç”¨æˆ–å¾…å®¡æ ¸ | è”ç³»ç®¡ç†å‘˜æ¿€æ´»è´¦å· |
| 1106 | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ | ç™»å½•å‡­æ®é”™è¯¯ | æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡® |

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æµ‹è¯•æ•°æ®éš”ç¦»**: æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä½¿ç”¨ç‹¬ç«‹çš„æµ‹è¯•æ•°æ®ï¼Œé¿å…ç›¸äº’å½±å“
2. **æµ‹è¯•æ¸…ç†**: æµ‹è¯•å®ŒæˆååŠæ—¶æ¸…ç†æµ‹è¯•æ•°æ®
3. **Mockä½¿ç”¨**: åˆç†ä½¿ç”¨Mockå¯¹è±¡ï¼Œé¿å…å¯¹å¤–éƒ¨æœåŠ¡çš„ä¾èµ–
4. **æµ‹è¯•è¦†ç›–**: ç¡®ä¿è¦†ç›–æ­£å¸¸æµç¨‹ã€å¼‚å¸¸æµç¨‹ã€è¾¹ç•Œæ¡ä»¶ç­‰åœºæ™¯
5. **æ€§èƒ½æµ‹è¯•**: å®šæœŸè¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œç¡®ä¿æ¥å£æ€§èƒ½ç¬¦åˆè¦æ±‚
6. **æ–‡æ¡£åŒæ­¥**: åŠæ—¶æ›´æ–°APIæ–‡æ¡£ï¼Œç¡®ä¿æ–‡æ¡£ä¸å®é™…å®ç°ä¸€è‡´
7. **å®‰å…¨æµ‹è¯•**: é‡ç‚¹å…³æ³¨è®¤è¯å’Œæˆæƒç›¸å…³çš„å®‰å…¨æµ‹è¯•
8. **ä»¤ç‰Œç®¡ç†**: æµ‹è¯•JWTä»¤ç‰Œçš„ç”Ÿæˆã€éªŒè¯å’Œè¿‡æœŸå¤„ç†

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-07-31  
**ç»´æŠ¤äººå‘˜**: scccy 