# 任务：更新模块设计规则
状态: 规划中
创建时间: 2025-08-01 15:12:00

## 目标
更新模块设计规则，建立标准化的微服务文档结构和新建模块工作流程。

## 用户需求分析
1. 在 `moudleDocs` 目录下建立微服务总体设计框架文档
2. 建立数据库建表语句和表说明文档
3. 为每个模块建立标准化的文档结构，包括：
   - 模块主体讨论
   - 模块设计
   - API接口说明
   - API接口测试
   - 模块迭代说明
   - 模块迭代设计
4. 明确新建模块时的工作顺序

## 新建模块工作流程框架
基于用户提供的"第三方-微信模块"示例，建立以下工作流程：

### 第一套框架：完整模块开发流程
1. **生成文件夹及模块主体讨论**
   - 在 `moudleDocs` 下创建模块文件夹
   - 创建 `模块主体讨论.md` 文档
   - 用户描述模块需求和功能范围

2. **功能拆分与模块确认**
   - AI总结主题内容
   - 生成功能拆分模块建议
   - 用户确认功能拆分方案

3. **设计模板生成**
   - 基于确认的功能拆分生成设计模板
   - 用户确认设计模板

4. **API接口文档生成**
   - 基于设计模板生成API接口文档
   - 用户确认API接口设计

5. **微服务开发**
   - 按照模块设计开始开发对应的微服务
   - 实现Feign客户端供其他微服务使用

### 第二套框架：模块迭代流程
1. **生成迭代模板**
   - 创建 `迭代模板_YYYYMMDD_迭代描述.md` 文档
   - 支持多次迭代，按日期标记迭代版本
   - 用户描述迭代需求和功能扩展

2. **功能拆分与确认**
   - AI分析迭代主题内容
   - 将主题拆分成多个接口和功能点
   - 用户确认功能拆分方案

3. **迭代设计生成**
   - 基于确认的功能拆分生成迭代设计文件
   - 用户确认迭代设计方案

4. **迭代开发**
   - 按照迭代设计进行开发
   - 实现新功能并集成到现有模块

5. **文档更新**
   - 更新设计模板
   - 更新API接口文档
   - 更新测试文档

## 执行步骤
- [x] 步骤 1: 分析现有 `moudleDocs` 目录结构，了解当前文档组织方式
- [x] 步骤 2: 创建微服务总体设计框架文档
- [x] 步骤 3: 创建数据库建表语句和表说明文档
- [x] 步骤 4: 定义标准化模块文档结构模板
- [x] 步骤 5: 创建新建模块工作流程文档（包含第一套框架）
- [x] 步骤 6: 更新 `.docs/RULES/` 下的模块设计规则
- [x] 步骤 7: 更新 `.docs/README-DOCS.md` 以反映新的文档结构

## 任务完成总结
✅ **任务完成** 模块设计规则更新任务已完成。现在进入 [经验萃取] 阶段，我将分析本次任务的变更、遇到的问题和解决方案，以提炼可复用的规则。

### 完成的工作成果
1. **微服务总体设计框架文档** - 建立了完整的微服务架构指导文档
2. **数据库建表语句和表说明文档** - 汇总了所有模块的数据库设计
3. **标准化模块文档结构模板** - 定义了6个必需文档的标准化结构
4. **新建模块工作流程文档** - 建立了两套完整的工作流程框架
5. **模块文档标准化规则** - 创建了新的开发规则 DEV-011
6. **README-DOCS.md 更新** - 反映了新的文档结构和工作流程

### 建立的两套工作框架
- **第一套框架**: 完整模块开发流程（5步流程）
- **第二套框架**: 模块迭代流程（5步流程）

### 标准化的文档结构
每个模块包含6个必需文档：
- 模块主体讨论.md
- 模块设计.md
- API接口说明.md
- API接口测试.md
- 模块迭代说明.md
- 模块迭代设计.md

## 现有文档结构分析
### 当前模块文档结构
- **core-publisher**: README.md, design.md, api-test.md
- **service-user**: interface-test-validation.md, api-test.md, design.md
- **模板文件**: xxxxxx-design_templates.md, xxxxxx-api-test-template.md, xxxxxx-development-template.md

### 标准化需求
根据用户要求，每个模块文件夹应包含：
1. 模块主体讨论.md
2. 模块设计.md
3. API接口说明.md
4. API接口测试.md
5. 模块迭代说明.md
6. 模块迭代设计.md

## 相关规则参考
- 需要查阅 `.docs/RULES/` 下的现有开发规则
- 遵循用户偏好：文档应放在 `moudleDocs` 目录下，按模块分文件夹
- 遵循用户偏好：使用中文回答
- 遵循用户偏好：使用Feign客户端进行微服务间通信

## 预期成果
1. 标准化的微服务文档结构
2. 清晰的新建模块工作流程（第一套框架）
3. 更新的开发规则文档
4. 可复用的文档模板
5. 模块开发的最佳实践指南 