# 项目概述基线

## 项目基本信息
- **项目名称**: 半语积分商城
- **项目类型**: 微服务架构的积分任务平台
- **创建时间**: 2024-12-19
- **当前状态**: 初始化阶段

## 业务逻辑

### 核心业务流程
1. **B端（发布者）**：
   - 发布六种任务：点赞、评论、话题讨论、社群分享、邀请好友、反馈
   - 查看任务排行榜
   - 审核社群分享任务

2. **C端（接收者）**：
   - 在企业微信小程序接收任务
   - 完成任务获得积分
   - 查看任务详情和排行榜

3. **积分系统**：
   - 任务完成 → 积分发放
   - 积分同步到有赞商城
   - 有赞商城消费 → 积分扣减

### 任务类型定义
| 任务类型 | 描述 | 审核要求 | 积分奖励 |
|---------|------|----------|----------|
| 点赞 | 对指定内容进行点赞 | 无需审核 | 根据难度设定 |
| 评论 | 对指定内容进行评论 | 无需审核 | 根据难度设定 |
| 话题讨论 | 参与指定话题讨论 | 无需审核 | 根据难度设定 |
| 社群分享 | 在社群中分享指定内容 | 需要B端审核 | 根据难度设定 |
| 邀请好友 | 邀请新用户注册 | 无需审核 | 固定奖励 |
| 反馈 | 提供产品使用反馈 | 无需审核 | 根据质量设定 |

## 用户角色定义

### B端用户（发布者）
- **权限**: 发布任务、审核任务、查看排行榜
- **功能**: 任务管理、数据统计、积分发放

### C端用户（接收者）
- **权限**: 接收任务、完成任务、查看积分
- **功能**: 任务浏览、任务执行、积分查询

### 系统管理员
- **权限**: 用户管理、系统配置、数据监控
- **功能**: 用户审核、系统维护、数据备份

## 技术架构概述

### 微服务模块
- **service-auth**: 认证授权服务
- **service-user**: 用户管理服务
- **service-task**: 任务管理服务
- **service-points**: 积分管理服务
- **service-file**: 文件管理服务
- **service-sync**: 第三方同步服务

### 基础设施
- **infra-gateway**: API网关
- **infra-registry**: 服务注册发现
- **infra-monitor**: 监控服务
- **infra-log**: 日志服务

## 第三方集成

### 微信生态
- 小程序登录认证
- 消息推送服务
- 朋友圈API集成

### 有赞商城
- 订单数据同步
- 商品信息拉取
- 积分兑换接口

### 阿里云OSS
- 任务附件存储
- 用户头像存储
- 文件访问权限控制

## 数据流向

### 任务流程
```
B端发布任务 → 系统审核 → C端接收 → 任务执行 → 成果提交 → 审核验收 → 积分发放
```

### 积分流程
```
任务完成 → 积分计算 → 积分发放 → 有赞同步 → 商城消费 → 积分扣减 → 系统同步
```

## 安全考虑
- JWT令牌认证
- 敏感信息加密存储
- 任务防刷机制
- 积分防刷机制
- 文件访问权限控制
- OSS访问权限控制

## 性能要求
- 任务列表响应时间 < 2秒
- 积分同步延迟 < 5秒
- 文件上传支持并发
- 系统可用性 > 99.9% 